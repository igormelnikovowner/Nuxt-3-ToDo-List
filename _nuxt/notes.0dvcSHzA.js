import{n as k,_ as C,o,c as t,D as m,B as $,G as x,s as g,a as u,t as c,q as B,y as h,b as f,F as y,E as v,u as N,A as _,w as T,d as S}from"./entry.c8Fz298c.js";import{C as A,D as F,u as j}from"./useDialog.cDNkvZZt.js";import{B as L}from"./Button.CUEB_LMa.js";const V=k({name:"Icon",props:{icon:{type:String,default:""}},setup(){return{}}});function U(e,s,l,p,n,b){return o(),t("span",{class:m(e.icon)},null,2)}const I=C(V,[["render",U]]),O=k({name:"TodoTitle",props:{todo:{type:Object,default:{}},type:{type:String,default:"view"},idx:{type:Number,default:1}},components:{Icon:I,Checkbox:A},emits:["show-dialog"],setup(e,s){return{textColor:$(()=>e.todo.isDone?"text-emerald-500":"text-black"),editNote:()=>{x(`/note/${e.todo.uid}`)},deleteNote:()=>{s.emit("show-dialog",{action:"delete",uid:e.todo.uid})}}}}),q={class:"flex w-fit items-center text-base sm:text-lg"},z={key:0,class:"text-base sm:text-lg flex w-fit items-center"},G=u("span",{class:"mr-1 hidden sm:block"}," Редактировать ",-1),R=u("span",{class:"mr-1 hidden sm:block"}," Удалить ",-1);function H(e,s,l,p,n,b){const i=g("Checkbox"),d=g("Icon");return o(),t("div",{class:m(["flex justify-between align-center",e.type==="view"?"pr-4 sm:pr-8":""])},[u("div",q,[u("span",{class:m(["mr-2 truncate",[e.todo.isDone&&e.type==="todo"?"line-through":"",e.textColor]]),style:{"max-width":"150px"}},c(`${e.idx}. ${e.todo.title}`),3),e.type==="todo"?(o(),B(i,{key:0,modelValue:e.todo.isDone,disable:!0,type:"checkbox"},null,8,["modelValue"])):h("",!0)]),e.type==="view"?(o(),t("div",z,[u("div",{class:"flex items-center cursor-pointer mr-2 sm:mr-4",onClick:s[0]||(s[0]=(...r)=>e.editNote&&e.editNote(...r))},[G,f(d,{icon:"i-mdi-pencil-outline"})]),u("div",{class:"flex items-center cursor-pointer",onClick:s[1]||(s[1]=(...r)=>e.deleteNote&&e.deleteNote(...r))},[R,f(d,{icon:"i-mdi-delete-outline"})])])):h("",!0)],2)}const J=C(O,[["render",H]]),K=k({name:"UserNote",props:{note:{type:Object,default:{}},idx:{type:Number,default:1}},components:{TodoTitle:J},emits:["show-dialog"],setup(e,s){return{borderColor:$(()=>e.note.todos.every(n=>n.isDone)?"border-emerald-500":e.note.todos.some(n=>n.isDone)?"border-orange-200":"border-red-700"),showDialog:n=>{s.emit("show-dialog",n)}}}}),M={class:"mt-2 sm:mt-4"},P={key:0,class:"flex justtify-between flex-wrap"},Q={key:1,class:"mt-2 sm:mt-4 font-bold text-lg sm:text-2xl"};function W(e,s,l,p,n,b){const i=g("TodoTitle");return o(),t("div",{class:m(["text-xl bg-white shadow-md rounded-md mb-2 sm:mb-4 pl-4 sm:pl-8 py-2 sm:py-4 border-l-4",e.borderColor]),style:{height:"250px"}},[f(i,{todo:e.note,idx:e.idx,onShowDialog:e.showDialog},null,8,["todo","idx","onShowDialog"]),u("div",M,[u("p",{class:m(["text-base sm:text-lg",e.note.isDone?"text-emerald-500":"text-black"])},c(e.note.isDone?"- Задачи которые вы победили! Грац.":"- Шаги для выполнения задачи"),3),e.note.todos.length?(o(),t("div",P,[(o(!0),t(y,null,v(e.note.todos,(d,r)=>(o(),t("div",{key:d.uid,class:"w-full sm:w-2/5 px-4 sm:px-8 py-2 sm:py-4"},[f(i,{todo:d,idx:r+1,type:"todo"},null,8,["todo","idx"])]))),128))])):(o(),t("div",Q,c(e.$t("Нет добавленных задач!")),1))])],2)}const X=C(K,[["render",W]]),Y=k({components:{UserNote:X,Button:L,Dialog:F},setup(){const e=N(),{nickname:s,notes:l,isLoading:p}=_(e),n=$(()=>l.value.filter(w=>w.isDone)),b=$(()=>l.value.filter(w=>!w.isDone)),i=w=>{x(`/note/${w}`)},{isDialogOpen:d,actionForConfirm:r,showDialog:a,closeDialog:D,confirmAction:E}=j();return{nickname:s,notes:l,completed:n,uncompleted:b,isLoading:p,toNoteLayout:i,showDialog:a,closeDialog:D,confirmAction:E,isDialogOpen:d,actionForConfirm:r}}}),Z={class:"w-full"},ee={class:"font-bold text=2xl sm:text-4xl text-center mb-6 md:mb-12"},oe=u("div",{class:"mb-4"},[u("h3",{class:"font-bold text-lg sm:text-2xl text-center"},[u("span",{class:"border-b-2 border-black"}," Незавершенные задачи ")])],-1),te={class:"mb-4"},ue={class:"font-bold text-lg sm:text-2xl text-center"},se={class:"border-b-2 border-black"},ne={key:1},le={class:"font-bold text-2xl text-center mb-12"},ie={key:2},de={class:"font-bold text-2xl text-center mb-12"},re={key:3,class:"flex w-full justify-center"};function ae(e,s,l,p,n,b){const i=g("UserNote"),d=g("Button"),r=g("Dialog");return o(),t(y,null,[u("div",Z,[u("h2",ee," Доброго времени суток, "+c(e.nickname)+"! "+c(e.completed.length?"Ваши задачи:":"Добавьте новые задачи"),1),e.completed.length||e.uncompleted.length?(o(),t("div",{key:0,class:m(["flex flex-col sm:flex-row w-full mb-8",!e.uncompleted.length||!e.completed.length?"justify-center":"justify-around"])},[e.uncompleted.length?(o(),t("div",{key:0,class:m(e.completed.length?"w-full sm:w-2/5":"w-full sm:w-2/3")},[oe,(o(!0),t(y,null,v(e.uncompleted,(a,D)=>(o(),t("div",{key:a.uid},[f(i,{note:a,idx:D+1,onShowDialog:e.showDialog},null,8,["note","idx","onShowDialog"])]))),128))],2)):h("",!0),e.completed.length?(o(),t("div",{key:1,class:m(e.uncompleted.length?"w-full sm:w-2/5":"w-full sm:w-2/3")},[u("div",te,[u("h3",ue,[u("span",se,c(e.$t("Выполненные задачи")),1)])]),(o(!0),t(y,null,v(e.completed,(a,D)=>(o(),t("div",{key:a.uid},[f(i,{note:a,idx:D+1,onShowDialog:e.showDialog},null,8,["note","idx","onShowDialog"])]))),128))],2)):h("",!0)],2)):e.isLoading?(o(),t("div",ie,[u("h2",de,c(e.$t("Загружаем заметки...")),1)])):(o(),t("div",ne,[u("h2",le,c(e.$t("Вы еще не добавили ни одной заметки(((")),1)])),e.isLoading?h("",!0):(o(),t("div",re,[f(d,{class:"bg-blue-500 text-white w-72",type:"button",onClick:s[0]||(s[0]=a=>e.toNoteLayout(new Date().getTime()))},{default:T(()=>[S(c(e.$t("Добавить новую заметку")),1)]),_:1})]))]),e.isDialogOpen?(o(),B(r,{key:0,action:e.actionForConfirm,onCloseDialog:e.closeDialog,onConfirmAction:s[1]||(s[1]=a=>e.confirmAction("notes"))},null,8,["action","onCloseDialog"])):h("",!0)],64)}const fe=C(Y,[["render",ae]]);export{fe as default};
